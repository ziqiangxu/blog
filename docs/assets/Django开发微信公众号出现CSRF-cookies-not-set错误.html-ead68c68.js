import{_ as e,o as n,c as s,e as a}from"./app-8c6e6f3c.js";const o="/blog/assets/pic1-0a244f26.png",c={},d=a('<h1 id="django-开发微信公众号出现-csrf-cookie-not-set-错误" tabindex="-1"><a class="header-anchor" href="#django-开发微信公众号出现-csrf-cookie-not-set-错误" aria-hidden="true">#</a> <code>Django</code> 开发微信公众号出现 <code>CSRF cookie not set</code> 错误</h1><p>当用户向公众号发送消息的时候，使用 <code>python3 manage.py runserver 0.0.0.0:80</code> 出现错误 <code>Forbidden (CSRF cookie not set.): /wx</code> 这是 <code>Django</code> 默认开启的一种防止跨域攻击的选项，要求用 <code>POST</code> 访问网站的时候提供 <code>CSRF cookie</code>（这个一般会在用户使用 <code>GET</code> 请求 <code>Django</code> 网站时颁发） 截图 <img src="'+o+`" alt="DeepinScreenshot_select-area_20171017210442.png"> 此时，只要把项目中 <code>setting.py</code> 文件中</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>MIDDLEWARE <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string">&#39;django.middleware.security.SecurityMiddleware&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;django.contrib.sessions.middleware.SessionMiddleware&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;django.middleware.common.CommonMiddleware&#39;</span><span class="token punctuation">,</span>
    <span class="token comment"># &#39;django.middleware.csrf.CsrfViewMiddleware&#39;,</span>
    <span class="token string">&#39;django.contrib.auth.middleware.AuthenticationMiddleware&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;django.contrib.messages.middleware.MessageMiddleware&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;django.middleware.clickjacking.XFrameOptionsMiddleware&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>第四行注释掉即可，关闭整个项目的 <code>CSRF</code>，这种方法可以快速解决这个问题 但是只关闭对应的 <code>url</code> 的处理函数更加优雅（请搜索 <em>局部关闭 <code>crsf</code></em>）</p>`,4),i=[d];function t(r,l){return n(),s("div",null,i)}const u=e(c,[["render",t],["__file","Django开发微信公众号出现CSRF-cookies-not-set错误.html.vue"]]);export{u as default};
