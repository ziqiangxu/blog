(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{253:function(m,t,e){"use strict";e.r(t);var n=e(0),o=Object(n.a)({},function(){var m=this,t=m.$createElement,e=m._self._c||t;return e("div",{staticClass:"content"},[m._m(0),m._v(" "),e("p",[m._v("阮一峰老师的文章非常清楚地介绍了如何生成"),e("code",[m._v("jwt")]),m._v("这个"),e("code",[m._v("token")]),m._v(" "),e("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2018/07/json_web_token-tutorial.html",target:"_blank",rel:"noopener noreferrer"}},[m._v("http://www.ruanyifeng.com/blog/2018/07/json_web_token-tutorial.html"),e("OutboundLink")],1)]),m._v(" "),m._m(1),m._v(" "),m._m(2),m._v(" "),m._m(3),m._v(" "),m._m(4),m._v(" "),m._m(5),m._v(" "),m._m(6),m._v(" "),m._m(7),m._v(" "),m._m(8),m._v(" "),m._m(9),m._v(" "),m._m(10),m._v(" "),m._m(11),m._v(" "),m._m(12),m._v(" "),m._m(13),m._v(" "),e("p",[e("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2019/04/oauth_design.html",target:"_blank",rel:"noopener noreferrer"}},[m._v("OAuth2简单解释"),e("OutboundLink")],1),m._v(" "),e("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2019/04/oauth-grant-types.html",target:"_blank",rel:"noopener noreferrer"}},[m._v("OAuth2的四种授权方式"),e("OutboundLink")],1)]),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment"),m._v(" "),e("comment-comment")],1)},[function(){var m=this,t=m.$createElement,e=m._self._c||t;return e("p",[e("code",[m._v("JWT")]),m._v(" 是"),e("code",[m._v("JSON Web Token")]),m._v("的缩写。我们用大写的"),e("code",[m._v("JWT")]),m._v("表示这种认证机制，我们用小写的"),e("code",[m._v("jwt")]),m._v("来表示"),e("code",[m._v("JWT")]),m._v("机制中的生成的"),e("code",[m._v("token")]),m._v("，"),e("code",[m._v("jwt")]),m._v("是一个字符串")])},function(){var m=this.$createElement,t=this._self._c||m;return t("p",[this._v("拜读了阮一峰老师的文章，我知道了"),t("code",[this._v("jwt")]),this._v("不仅是一个"),t("code",[this._v("token")]),this._v("，它还是一个包含了其他信息的"),t("code",[this._v("token")]),this._v("\n看了文章底下的评论，甚是精彩！我觉得该文还需要一些补充")])},function(){var m=this.$createElement,t=this._self._c||m;return t("h2",{attrs:{id:"认证流程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#认证流程","aria-hidden":"true"}},[this._v("#")]),this._v(" 认证流程")])},function(){var m=this.$createElement,t=this._self._c||m;return t("h3",{attrs:{id:"一：申请凭证jwt："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一：申请凭证jwt：","aria-hidden":"true"}},[this._v("#")]),this._v(" 一：申请凭证"),t("code",[this._v("jwt")]),this._v("：")])},function(){var m=this.$createElement,t=this._self._c||m;return t("ol",[t("li",[this._v("客户端发送账号和密码给服务器")]),this._v(" "),t("li",[this._v("服务器查询数据库，认证成功后服务器返回凭证"),t("code",[this._v("jwt")])])])},function(){var m=this.$createElement,t=this._self._c||m;return t("blockquote",[t("p",[this._v("为了防止伪造，需要确保"),t("code",[this._v("jwt")]),this._v("只能由服务端生成，实现方法阮一峰老师的文章有讲")])])},function(){var m=this.$createElement,t=this._self._c||m;return t("h3",{attrs:{id:"二：拿着凭证jwt访问服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二：拿着凭证jwt访问服务器","aria-hidden":"true"}},[this._v("#")]),this._v(" 二：拿着凭证"),t("code",[this._v("jwt")]),this._v("访问服务器")])},function(){var m=this,t=m.$createElement,e=m._self._c||t;return e("ol",[e("li",[m._v("把"),e("code",[m._v("jwt")]),m._v("放到"),e("code",[m._v("HTTP")]),m._v("请求头的"),e("code",[m._v("Authorization")]),m._v("字段里【当然可以放在其他位置，只要确保服务器可以拿到】")]),m._v(" "),e("li",[m._v("服务器拿到客户端提交的"),e("code",[m._v("jwt")]),m._v("之后，通过对"),e("code",[m._v("jwt")]),m._v("里的字段进行签名运算来验证这个"),e("code",[m._v("jwt")]),m._v("是否有效")])])},function(){var m=this.$createElement,t=this._self._c||m;return t("blockquote",[t("p",[this._v("签名运算只需要用到服务器的"),t("code",[this._v("secret")]),this._v("和"),t("code",[this._v("jwt")]),this._v("里的其它信息【这样就不需要去查询数据库了】")])])},function(){var m=this.$createElement,t=this._self._c||m;return t("h2",{attrs:{id:"总结"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#总结","aria-hidden":"true"}},[this._v("#")]),this._v(" 总结")])},function(){var m=this,t=m.$createElement,e=m._self._c||t;return e("p",[m._v("使用"),e("code",[m._v("JWT")]),m._v("认证，服务器变成无状态了，从而比较容易实现扩展。\n"),e("code",[m._v("JWT")]),m._v("的最大缺点，由于服务器不保存"),e("code",[m._v("session")]),m._v("状态，因此无法在使用过程中废止某个"),e("code",[m._v("token")]),m._v("，或者更改 "),e("code",[m._v("token")]),m._v("的权限。也就是说，一旦"),e("code",[m._v("JWT")]),m._v("签发了，在到期之前就会始终有效，除非服务器部署额外的逻辑。\n说一句套话但绝对不是空话：还是需要根据实际应用场景选用认证方式的")])},function(){var m=this.$createElement,t=this._self._c||m;return t("h2",{attrs:{id:"使用案例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用案例","aria-hidden":"true"}},[this._v("#")]),this._v(" 使用案例")])},function(){var m=this.$createElement,t=this._self._c||m;return t("p",[this._v("公司有一个对外提供的服务，用"),t("code",[this._v("gRPC")]),this._v("实现，用户身份验证的时候使用了"),t("code",[this._v("JWT")])])},function(){var m=this.$createElement,t=this._self._c||m;return t("h2",{attrs:{id:"扩展阅读"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#扩展阅读","aria-hidden":"true"}},[this._v("#")]),this._v(" 扩展阅读")])}],!1,null,null,null);t.default=o.exports}}]);