(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{400:function(s,e,a){"use strict";a.r(e);var t=a(42),_=Object(t.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"deepin-å¦‚ä½•ä¼‘çœ "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deepin-å¦‚ä½•ä¼‘çœ "}},[s._v("#")]),s._v(" "),a("code",[s._v("Deepin")]),s._v(" å¦‚ä½•ä¼‘çœ ")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://www.deepin.org",target:"_blank",rel:"noopener noreferrer"}},[s._v("deepinå®˜ç½‘"),a("OutboundLink")],1),s._v("\nä¼‘çœ è¿™ä¸ªåŠŸèƒ½è¿˜æ˜¯å¾ˆé…·å¾ˆå®ç”¨çš„ï¼Œå¯¹äº "),a("code",[s._v("Linux")]),s._v(" ç³»ç»Ÿï¼Œä¼‘çœ ä¸€èˆ¬å°±æ˜¯æŠŠå†…å­˜ä¸­çš„æ•°æ®å†™å…¥ç¡¬ç›˜ï¼ˆ"),a("code",[s._v("swap")]),s._v("æ–‡ä»¶ï¼‰ï¼Œç„¶åå…³æœºã€‚åœ¨ä¸‹ä¸€æ¬¡å¼€æœºçš„æ—¶å€™å°†æ•°æ®é‡æ–°è½½å…¥å†…å­˜ï¼Œè®©ä½ å¿«é€Ÿå›åˆ°ä¸Šä¸€æ¬¡çš„å·¥ä½œçŠ¶æ€ï¼Œè¿™åœ¨ä½ å¼€å¯äº†å¤§é‡çš„ç¨‹åºä½†éœ€è¦æš‚åœå·¥ä½œçš„æ—¶å€™å°¤å…¶å¥½ç”¨ã€‚")]),s._v(" "),a("h2",{attrs:{id:"æƒ…å†µä¸€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æƒ…å†µä¸€"}},[s._v("#")]),s._v(" æƒ…å†µä¸€")]),s._v(" "),a("p",[s._v("å¦‚æœä½ çš„ç”µè„‘æœ‰ "),a("code",[s._v("swap")]),s._v(" åˆ†åŒºï¼Œ "),a("code",[s._v("deepin")]),s._v(" ä¼šæ¢æµ‹åˆ°ï¼Œå…³æœºçš„æ—¶å€™ä¼šæœ‰ä¼‘çœ é€‰é¡¹äº†ï¼Œè¿™ä¸ªåŠŸèƒ½ç»ˆäºåŠ åˆ°å…³æœºèœå•é‡Œäº†ï¼Œç»™ "),a("code",[s._v("deepin")]),s._v(" ç‚¹èµã€‚")]),s._v(" "),a("p",[a("s",[s._v("ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœä½ æœ‰ä¸€ä¸ªå¯ä»¥æ­£å¸¸ä½¿ç”¨çš„swapåˆ†åŒºï¼Œåªéœ€è¦åœ¨ç»ˆç«¯æ‰§è¡Œ")]),s._v(" "),a("s",[a("code",[s._v("systemctl hibernate")])]),s._v(" "),a("s",[s._v("å°±å¯ä»¥ä¼‘çœ äº†ã€‚")])]),s._v(" "),a("p",[a("strong",[s._v("å½“ç„¶ï¼Œä¹Ÿæœ‰ä¾‹å¤–")]),s._v(", å¦‚æœä½ ä¼‘çœ ä¹‹åå¼€æœºå‘ç°ä½ çš„ç”µè„‘å¹¶æ²¡æœ‰æ¢å¤ç°åœºï¼Œåˆ™éœ€è¦æŒ‡å®šä¸€ä¸‹å¯åŠ¨çš„ç£ç›˜ï¼ˆä»swapåˆ†åŒºå¯åŠ¨ï¼‰ï¼Œæ“ä½œæ–¹æ³•å¦‚ä¸‹ï¼š")]),s._v(" "),a("blockquote",[a("p",[s._v("ä¿®æ”¹/etc/default/grubè¿™ä¸ªæ–‡ä»¶ä¸­çš„ç›¸å…³å†…å®¹\n"),a("code",[s._v('GRUB_CMDLINE_LINUX_DEFAULT="resume=/dev/sda3 quiet"')]),s._v("\nå…¶ä¸­ "),a("code",[s._v("/dev/sda3")]),s._v(" æ”¹ä¸ºä½ çš„ "),a("code",[s._v("swap")]),s._v(" åˆ†åŒºå¯¹åº”çš„æ ‡å¿—å³å¯ï¼ˆæ¨èä½¿ç”¨ "),a("code",[s._v("gparted")]),s._v(" æŸ¥çœ‹ï¼‰\nç„¶åå†æ‰§è¡Œ "),a("code",[s._v("sudo update-grub")])])]),s._v(" "),a("h2",{attrs:{id:"æƒ…å†µäºŒ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æƒ…å†µäºŒ"}},[s._v("#")]),s._v(" æƒ…å†µäºŒ")]),s._v(" "),a("p",[s._v("å¦‚æœä½ æ²¡åŠæ³•ä»ç¡¬ç›˜åˆ’åˆ†ä¸€ä¸ªswapåˆ†åŒºï¼Œä½ å¯ä»¥é€šè¿‡ä½¿ç”¨swapæ–‡ä»¶æ¥è¿›è¡Œä¼‘çœ ã€‚\n"),a("a",{attrs:{href:"https://wiki.debian.org/Hibernation/Hibernate_Without_Swap_Partition",target:"_blank",rel:"noopener noreferrer"}},[s._v("æœ¬æ•™ç¨‹å‚è€ƒäº†Debiançš„wiki"),a("OutboundLink")],1),s._v("\nå¤§ä½“æ€è·¯ï¼šåˆ›å»ºswapæ–‡ä»¶--\x3eé…ç½®swapæ–‡ä»¶--\x3eå®‰è£…uswsusp--\x3eé…ç½®uswsusp")]),s._v(" "),a("h3",{attrs:{id:"_1-åˆ›å»ºä¸€ä¸ªswapæ–‡ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-åˆ›å»ºä¸€ä¸ªswapæ–‡ä»¶"}},[s._v("#")]),s._v(" 1. åˆ›å»ºä¸€ä¸ªswapæ–‡ä»¶")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("fallocate -l 256m /swap\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkswap")]),s._v(" /swap\n")])])]),a("p",[s._v("â€œ256â€æ˜¯æŒ‡ä»¥MBä¸ºå•ä½çš„å¤§å°ï¼ˆå…¶åçš„'m'ï¼‰ã€‚å°†å…¶è®¾ç½®ä¸ºRAMçš„è‡³å°‘ä¸€åŠå¤§å°(è¿™ä¸ªæ˜¯debian wikiç»™å®šçš„æ•°æ®ï¼Œæˆ‘å»ºè®®è®¾ç½®ä¸ºè‡³å°‘è®¾ç½®ä¸ºå†…å­˜ç›¸åŒå¤§å°)ã€‚â€œ/swapâ€æ˜¯äº¤æ¢æ–‡ä»¶çš„è·¯å¾„ã€‚å®ƒå¯ä»¥ä½äºä»»ä½•åˆ†åŒºï¼ˆä¾‹å¦‚rootæˆ–homeï¼‰ã€‚")]),s._v(" "),a("h3",{attrs:{id:"_2-è¿›è¡Œswapæ–‡ä»¶ç›¸å…³è®¾ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-è¿›è¡Œswapæ–‡ä»¶ç›¸å…³è®¾ç½®"}},[s._v("#")]),s._v(" 2. è¿›è¡Œswapæ–‡ä»¶ç›¸å…³è®¾ç½®")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("æŒ‚è½½swapæ–‡ä»¶\nå°†æ­¤è¡Œæ·»åŠ åˆ°/etc/fstabæ–‡ä»¶ä¸­ï¼š\n"),a("code",[s._v("/swap swap swap defaults 0 0")])])]),s._v(" "),a("li",[a("p",[s._v("å‡å°‘ä½¿ç”¨swapæ–‡ä»¶\nç»ˆç«¯æ‰§è¡Œ "),a("code",[s._v("sudo sysctl -w vm.swappiness = 1")]),s._v("\nå¹¶åœ¨/etc/sysctl.dä¸­åˆ›å»ºä¸€ä¸ªåä¸ºlocal.confçš„æ–‡ä»¶ï¼Œä¸ºäº†ä½¿vm.swappinessä¿æŒä¸å˜ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹:")])])]),s._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("vm.swappiness = 1\n")])])]),a("blockquote",[a("p",[a("a",{attrs:{href:"http://blog.sina.com.cn/s/blog_13cc013b50102wskd.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("vm.swappinessæ‰©å±•çŸ¥è¯†"),a("OutboundLink")],1),s._v("\nå‡å°‘å†…æ ¸å¯¹ "),a("code",[s._v("swap")]),s._v(" çš„ä½¿ç”¨è¿™ä¸€æ­¥ä¸»è¦æ˜¯é’ˆå¯¹ä½¿ç”¨æœºæ¢°ç¡¬ç›˜çš„åŒå­¦ï¼Œå› ä¸ºåœ¨æœºæ¢°ç¡¬ç›˜ä¸­å¤§é‡å¯¹ "),a("code",[s._v("swap")]),s._v(" è¿›è¡Œè¯»å†™ä¼šæ‹–æ…¢ç³»ç»Ÿçš„é€Ÿåº¦ï¼Œ Debian wiki é‡Œé¢å†™çš„æ˜¯åœæ­¢å†…æ ¸ä½¿ç”¨ "),a("code",[s._v("swap")]),s._v(" æ–‡ä»¶ï¼Œå¯èƒ½æ˜¯åŸä½œè€…ç¬”è¯¯ï¼Œä¹Ÿå¯èƒ½æ˜¯ä»–çè¯´çš„ğŸ¤—")])]),s._v(" "),a("ul",[a("li",[s._v("æ¿€æ´»swapæ–‡ä»¶ï¼š\nç»ˆç«¯æ‰§è¡Œ "),a("code",[s._v("sudo swapon /swap")])])]),s._v(" "),a("h3",{attrs:{id:"_3-å®‰è£…å’Œé…ç½®ç›¸å…³è½¯ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-å®‰è£…å’Œé…ç½®ç›¸å…³è½¯ä»¶"}},[s._v("#")]),s._v(" 3. å®‰è£…å’Œé…ç½®ç›¸å…³è½¯ä»¶")]),s._v(" "),a("p",[s._v("ä½¿ç”¨uswsuspè¿™ä¸ªè½¯ä»¶ï¼Œè¿™æ˜¯linuxå†…æ ¸ä½¿ç”¨swapæ–‡ä»¶ä»£æ›¿swapåˆ†åŒºæ¥è¿›è¡ŒæŒ‚èµ·ï¼ˆä¼‘çœ ï¼‰çš„æ–¹æ³•ï¼Œå¹¶ä¸”è¿˜æ”¯æŒå‹ç¼©å’ŒåŠ å¯†ç­‰åŠŸèƒ½ã€‚")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("å®‰è£…uswsuspï¼š\nç»ˆç«¯æ‰§è¡Œ "),a("code",[s._v("aptitude install uswsusp")])])]),s._v(" "),a("li",[a("p",[s._v("é…ç½®uswsuspï¼š\nç»ˆç«¯æ‰§è¡Œ "),a("code",[s._v("sudo dpkg-reconfigure -pmedium uswsusp")]),s._v("ï¼Œç„¶åä¼šå‡ºç°å¦‚ä¸‹æç¤ºæ¡†\n"),a("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/6434906-f8a2c6817f602996.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"æ·±åº¦æˆªå›¾_é€‰æ‹©åŒºåŸŸ_20180605160224.png"}}),s._v("\nä»è¿™ä¸ªé—®é¢˜å¼€å§‹å…¨éƒ¨é€‰æ‹©ç¡®å®šï¼Œç›´åˆ°å‡ºç°ï¼š")])])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/6434906-56736ba5323f58ad.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"é€‰æ‹©swapæ–‡ä»¶"}}),s._v("\næ­¤å¤„é€‰æ‹©ä½ è¦ä½¿ç”¨çš„swapæ–‡ä»¶ï¼Œæ³¨ï¼šæˆ‘è¿™é‡Œæ˜¯/var/swapfileè¿™ä¸ªæ–‡ä»¶")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/6434906-e5389c6168ee53db.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"é€‰æ‹©æ˜¯å¦å¯¹ä¼‘çœ å†™å…¥swapçš„æ•°æ®åŠ å¯†"}}),s._v("\næ ¹æ®éœ€è¦é€‰æ‹©å°±å¥½ï¼ˆéœ€è¦çŸ¥æ™“çš„æ˜¯ï¼Œå¼€å¯åŠ å¯†åŠŸèƒ½ä¹‹åä¼‘çœ çš„å¯åŠ¨æ‰€æ¶ˆè€—çš„æ—¶é—´ä¼šå¢åŠ ï¼‰ã€‚å¦‚æœé€‰æ‹©åŠ å¯†çš„è¯ï¼Œå®ƒä¼šæç¤ºä½ è®¾å®šä¸€ä¸ªå¯†ç ")]),s._v(" "),a("ul",[a("li",[s._v("å¯¹uswsuspè¿›è¡Œè¿›ä¸€æ­¥é…ç½®")])]),s._v(" "),a("p",[s._v("ä¸€èˆ¬é…ç½®æ–‡ä»¶/etc/uswsusp.confå†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼š")]),s._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ï¼ƒ/etc/uswsusp.confï¼ˆ8ï¼‰ -- Configuration file for s2disk / s2both\n\nresume device= /swap\n\ncompress = y\n\nearly writeout= y\n\nimage size= 238941634\n\nRSA key file = /etc/uswsusp.key\n\nshutdown method = platform\n\nresume offset = 8288\n\n# encrypt = y å¦‚æœä½ é€‰æ‹©äº†å¯¹æ•°æ®åŠ å¯†ï¼Œåˆ™ä¼šæœ‰è¿™ä¸€è¡Œ\n")])])]),a("p",[a("code",[s._v("resume offset = 8288")]),s._v(" æ˜¯äº¤æ¢æ–‡ä»¶å®é™…å­˜æ”¾çš„åœ°æ–¹ï¼ˆåº”è¯¥æ˜¯ç¡¬ç›˜çš„ç‰©ç†åœ°å€ï¼‰ã€‚ä½ å¯ä»¥ç»ˆç«¯æ‰§è¡Œ "),a("code",[s._v("swap-offset /swap")]),s._v(" è·å¾—è¿™ä¸ªå€¼ã€‚\n"),a("code",[s._v("resume device")]),s._v(" å¿…é¡»æ˜¯åˆ†åŒºè€Œä¸æ˜¯äº¤æ¢æ–‡ä»¶ã€‚ä¸€èˆ¬è¿™è¡Œçš„å€¼ä¼šåœ¨ä¸Šä¸€æ­¥å®Œæˆåå˜æˆä½ çš„ "),a("code",[s._v("swap")]),s._v(" æ–‡ä»¶çš„è·¯å¾„ï¼Œéœ€è¦æ”¹æˆä½ çš„ "),a("code",[s._v("swap")]),s._v(" æ–‡ä»¶æ‰€åœ¨çš„åˆ†åŒºï¼Œå¦‚ "),a("code",[s._v("/dev/sda1")])]),s._v(" "),a("p",[s._v("ç¼–è¾‘ "),a("code",[s._v("/etc/uswsusp.conf")]),s._v(" æ–‡ä»¶åï¼š\nç»ˆç«¯æ‰§è¡Œ "),a("code",[s._v("sudo update-initramfs -u")])]),s._v(" "),a("ol",[a("li",[s._v("é»˜è®¤å¯åŠ¨çš„é…ç½®\nä¸ºäº†è®©ç³»ç»Ÿå¯åŠ¨æ—¶ï¼Œé»˜è®¤ä»swapæ–‡ä»¶åŠ è½½æ•°æ®ã€‚å°† "),a("code",[s._v("/etc/default/grub")]),s._v(" æ–‡ä»¶ä¸­çš„ç›¸å…³è®¾ç½®è¿›è¡Œä¿®æ”¹ï¼š\n"),a("code",[s._v('GRUB_CMDLINE_LINUX_DEFAULT ="resume = /dev/sda1 quiet"')]),s._v("\nå…¶ä¸­ "),a("code",[s._v("/dev/sda1")]),s._v(" æ˜¯äº¤æ¢æ–‡ä»¶æ‰€åœ¨çš„åˆ†åŒºã€‚\nç»ˆç«¯æ‰§è¡Œ "),a("code",[s._v("sudo update-grub")])])]),s._v(" "),a("h2",{attrs:{id:"æµ‹è¯•ä¼‘çœ "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æµ‹è¯•ä¼‘çœ "}},[s._v("#")]),s._v(" æµ‹è¯•ä¼‘çœ ")]),s._v(" "),a("p",[s._v("ç»ˆç«¯æ‰§è¡Œï¼š"),a("code",[s._v("sudo s2disk")])]),s._v(" "),a("p",[a("strong",[s._v("æ³¨")]),s._v("ï¼šé…ç½®æˆåŠŸä¹‹åï¼Œå¦‚æœå†æ¬¡ä¿®æ”¹äº†uswsuspçš„è®¾ç½®éœ€è¦æ‰§è¡Œ")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" update-initramfs -u\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("update-grub")]),s._v("\n")])])]),a("h2",{attrs:{id:"é™„å½•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é™„å½•"}},[s._v("#")]),s._v(" é™„å½•")]),s._v(" "),a("p",[s._v("å¦‚æœä½ çš„ç£ç›˜åˆ†åŒºç»“æ„å˜äº†ï¼Œæ¯”å¦‚ "),a("code",[s._v("sda3")]),s._v(" å˜æˆäº† "),a("code",[s._v("sda4")]),s._v("ï¼ŒæŒ‰ç…§ä¸Šé¢æ­¥éª¤å†æ¥ä¸€éå°±å¥½å•¦ï¼ˆå› ä¸ºéœ€è¦æ›´æ–° "),a("code",[s._v("grub")]),s._v(" å’Œ "),a("code",[s._v("uswsusp.conf")]),s._v("ï¼‰ã€‚")]),s._v(" "),a("comment-comment")],1)}),[],!1,null,null,null);e.default=_.exports}}]);