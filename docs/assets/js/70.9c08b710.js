(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{445:function(s,t,a){"use strict";a.r(t);var e=a(45),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"用-chroot-修复-linux-系统"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用-chroot-修复-linux-系统"}},[s._v("#")]),s._v(" 用 "),a("code",[s._v("chroot")]),s._v(" 修复 "),a("code",[s._v("Linux")]),s._v(" 系统")]),s._v(" "),a("p",[s._v("我用的操作系统是 "),a("code",[s._v("Deepin")]),s._v("\n自己手残，卸载了某个软件，导致无法进入桌面环境，且没有办法进入其他tty。")]),s._v(" "),a("blockquote",[a("p",[s._v("既然我清晰地记得是因为卸载某个软件导致的这个问题，那么就有解决办法了。我只要把这个软件装回去就好啦！所以我需要能够使用apt工具")])]),s._v(" "),a("p",[s._v("还好一直保留者 "),a("code",[s._v("Deepin")]),s._v(" 的 "),a("code",[s._v("live")]),s._v(" 系统\n进入 "),a("code",[s._v("live")]),s._v(" 系统后我进行了如下操作：")]),s._v(" "),a("h2",{attrs:{id:"步骤概览"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤概览"}},[s._v("#")]),s._v(" 步骤概览")]),s._v(" "),a("ol",[a("li",[s._v("将要修复系统的根分区挂载到"),a("code",[s._v("/mnt")]),s._v("目录下，如果还有其它分区都统一以"),a("code",[s._v("/mnt")]),s._v("为根目录进行挂载")]),s._v(" "),a("li",[a("code",[s._v("chroot")]),s._v("到"),a("code",[s._v("mnt")]),s._v("目录下")]),s._v(" "),a("li",[s._v("安装我不小心删掉的软件")])]),s._v(" "),a("h3",{attrs:{id:"第一步-挂载要修复系统的分区"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第一步-挂载要修复系统的分区"}},[s._v("#")]),s._v(" 第一步：挂载要修复系统的分区")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 备注，sda5是我的根分区，sda6是我的home分区。请根据实际情况执行指令")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mount")]),s._v(" /dev/sda5 /mnt\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mount")]),s._v(" /dev/sda6 /mnt/home \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("系统运行的时候还需要其它的一些虚拟分区【一些和设备有关的分区，这句话对不对各位看官自行斟酌】")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这条命令依次将live系统的 /dev /dev/pts /proc /sys /run 分区挂载到要修复的")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 系统的根目录，这些分区在系统运行的时候是需要的")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("i")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" /dev /dev/pts /proc /sys /run"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mount")]),s._v(" -B "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$i")]),s._v(" /mnt"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$i")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"第二步-chroot到mnt目录下"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第二步-chroot到mnt目录下"}},[s._v("#")]),s._v(" 第二步： "),a("code",[s._v("chroot")]),s._v("到"),a("code",[s._v("mnt")]),s._v("目录下")]),s._v(" "),a("p",[a("code",[s._v("sudo chroot /mnt")]),s._v("\n这步执行完了之后，就登录到了要修复的系统的 "),a("code",[s._v("root")]),s._v(" 账户")]),s._v(" "),a("h3",{attrs:{id:"第三步-安装我不小心删掉的软件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第三步-安装我不小心删掉的软件"}},[s._v("#")]),s._v(" 第三步：安装我不小心删掉的软件")]),s._v(" "),a("p",[s._v("在这一步，遇到了困难，"),a("code",[s._v("apt")]),s._v(" 没办法解析软件源的地址"),a("code",[s._v("packages.deepin.com")]),s._v("。ping了一下"),a("code",[s._v("packages.deepin.com")]),s._v("对应的 "),a("code",[s._v("ip")]),s._v(" 地址，是通的，估计是 "),a("code",[s._v("dns")]),s._v(" 的服务没启动吧，然后改了一下 "),a("code",[s._v("/etc/hosts")]),s._v("，搞定")]),s._v(" "),a("h2",{attrs:{id:"题外话"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#题外话"}},[s._v("#")]),s._v(" 题外话")]),s._v(" "),a("p",[a("code",[s._v("Deepin")]),s._v(" 是我用得最久的 "),a("code",[s._v("Linux")]),s._v(" 桌面发行版。现在用的电脑已经一年多没有重装系统了")]),s._v(" "),a("comment-comment")],1)}),[],!1,null,null,null);t.default=n.exports}}]);