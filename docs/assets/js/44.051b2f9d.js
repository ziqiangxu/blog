(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{413:function(s,a,n){"use strict";n.r(a);var t=n(45),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"pipenv简要教程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#pipenv简要教程"}},[s._v("#")]),s._v(" pipenv简要教程")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装 `pipenv` 命令")]),s._v("\npip3 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" pipenv\npipenv --version "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 请保证 ~/.local/bin 被添加到 PATH 环境变量中")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h2",{attrs:{id:"创建虚拟环境"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建虚拟环境"}},[s._v("#")]),s._v(" 创建虚拟环境")]),s._v(" "),n("p",[s._v("在项目根目录执行\n"),n("code",[s._v("pipenv shell --python path/to/specified/python")])]),s._v(" "),n("p",[s._v("使用指定版本的 "),n("code",[s._v("python")]),s._v(" 解释器来创建虚拟环境，在执行成功后，项目根目录会自动生成一个"),n("code",[s._v("Pipfile")]),s._v("。")]),s._v(" "),n("div",{staticClass:"language-toml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-toml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Pipfile文件的内容")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("source")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 软件源相关设置")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token key property"}},[s._v("url")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://pypi.org/simple"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token key property"}},[s._v("verify_ssl")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token key property"}},[s._v("name")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"pypi"')]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("packages")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 项目运行时需要的依赖包")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("dev-packages")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 项目开发时需要的依赖包")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("requires")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token key property"}},[s._v("python_version")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.6"')]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("blockquote",[n("p",[n("code",[s._v("python")]),s._v(" 的多版本管理推荐使用 "),n("code",[s._v("miniconda")])])]),s._v(" "),n("h2",{attrs:{id:"使用虚拟环境"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用虚拟环境"}},[s._v("#")]),s._v(" 使用虚拟环境")]),s._v(" "),n("blockquote",[n("p",[s._v("特别注意：以下命令均需要在项目根目录执行")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 激活项目的虚拟环境")]),s._v("\npipenv shell\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装运行时依赖包，执行成功后软件包将被添加到 Pipfile 的 packages 下")]),s._v("\npipenv "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xxx")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".1\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装开发依赖包，执行成功后软件包将被添加到 Pipfile 的 dev-packages 下")]),s._v("\npipenv "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" --dev "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xxx")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".1\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("在上述命令执行结束之后，会有一个 "),n("code",[s._v("Pipfile.lock")]),s._v(" 文件生成，这个 "),n("code",[s._v("Pipfile.lock")]),s._v(" 记录了「依赖包」和「依赖包的依赖」的信息，这些信息包含名字、具体版本、"),n("code",[s._v("markers")]),s._v("、"),n("code",[s._v("hash")]),s._v("和安装源。")]),s._v(" "),n("blockquote",[n("p",[s._v("特别注意："),n("code",[s._v("Pipfile")]),s._v(" 和 "),n("code",[s._v("Pipfile.lock")]),s._v(" 这两个文件务必纳入版本管理。\n直接使用 "),n("code",[s._v("pip")]),s._v(" 命令安装软件包不会更新 "),n("code",[s._v("Pipfile")]),s._v(" 和 "),n("code",[s._v("Pipfile.lock")])])]),s._v(" "),n("h2",{attrs:{id:"利用pipfile和pipfile-lock快速恢复虚拟环境"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#利用pipfile和pipfile-lock快速恢复虚拟环境"}},[s._v("#")]),s._v(" 利用Pipfile和Pipfile.lock快速恢复虚拟环境")]),s._v(" "),n("p",[s._v("得益于 "),n("code",[s._v("Pipfile.lock")]),s._v(" 强大的表达能力，它可以很准确地描述一个虚拟环境。")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 假设某项目结构如下所示")]),s._v("\npipenv-test/\n├── appname\n│   └── test.py\n├── Pipfile\n└── Pipfile.lock\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("我们使用以下命令就可以快速创建一个尽可能一致的环境")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" pipenv-test\npipenv shell --python path/to/specified/python  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建虚拟环境")]),s._v("\npipenv "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装运行时依赖包")]),s._v("\npipenv "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" --dev  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装包括开发时需要的依赖包")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),s._v(" "),n("comment-comment")],1)}),[],!1,null,null,null);a.default=e.exports}}]);