import{_ as a,r as n,o as r,c as h,a as e,b as o,d as c,e as d}from"./app-fb5ee3bf.js";const i={},l=d('<h1 id="jwt-json-web-token-认证机制" tabindex="-1"><a class="header-anchor" href="#jwt-json-web-token-认证机制" aria-hidden="true">#</a> JWT(JSON-Web-Token)认证机制</h1><p><code>JWT</code> 是<code>JSON Web Token</code>的缩写。我们用大写的<code>JWT</code>表示这种认证机制，我们用小写的<code>jwt</code>来表示<code>JWT</code>机制中的生成的<code>token</code>，<code>jwt</code>是一个字符串</p>',2),s=e("code",null,"jwt",-1),_=e("code",null,"token",-1),w={href:"http://www.ruanyifeng.com/blog/2018/07/json_web_token-tutorial.html",target:"_blank",rel:"noopener noreferrer"},u=d('<p>拜读了阮一峰老师的文章，我知道了<code>jwt</code>不仅是一个<code>token</code>，它还是一个包含了其他信息的<code>token</code> 看了文章底下的评论，甚是精彩！我觉得该文还需要一些补充</p><h2 id="认证流程" tabindex="-1"><a class="header-anchor" href="#认证流程" aria-hidden="true">#</a> 认证流程</h2><h3 id="一-申请凭证jwt" tabindex="-1"><a class="header-anchor" href="#一-申请凭证jwt" aria-hidden="true">#</a> 一：申请凭证<code>jwt</code>：</h3><ol><li>客户端发送账号和密码给服务器</li><li>服务器查询数据库，认证成功后服务器返回凭证<code>jwt</code></li></ol><blockquote><p>为了防止伪造，需要确保<code>jwt</code>只能由服务端生成，实现方法阮一峰老师的文章有讲</p></blockquote><h3 id="二-拿着凭证jwt访问服务器" tabindex="-1"><a class="header-anchor" href="#二-拿着凭证jwt访问服务器" aria-hidden="true">#</a> 二：拿着凭证<code>jwt</code>访问服务器</h3><ol><li>把<code>jwt</code>放到<code>HTTP</code>请求头的<code>Authorization</code>字段里【当然可以放在其他位置，只要确保服务器可以拿到】</li><li>服务器拿到客户端提交的<code>jwt</code>之后，通过对<code>jwt</code>里的字段进行签名运算来验证这个<code>jwt</code>是否有效</li></ol><blockquote><p>签名运算只需要用到服务器的<code>secret</code>和<code>jwt</code>里的其它信息【这样就不需要去查询数据库了】</p></blockquote><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结" aria-hidden="true">#</a> 总结</h2><p>使用<code>JWT</code>认证，服务器变成无状态了，从而比较容易实现扩展。 <code>JWT</code>的最大缺点，由于服务器不保存<code>session</code>状态，因此无法在使用过程中废止某个<code>token</code>，或者更改 <code>token</code>的权限。也就是说，一旦<code>JWT</code>签发了，在到期之前就会始终有效，除非服务器部署额外的逻辑。 说一句套话但绝对不是空话：还是需要根据实际应用场景选用认证方式的</p><h2 id="使用案例" tabindex="-1"><a class="header-anchor" href="#使用案例" aria-hidden="true">#</a> 使用案例</h2><p>公司有一个对外提供的服务，用<code>gRPC</code>实现，用户身份验证的时候使用了<code>JWT</code></p><h2 id="扩展阅读" tabindex="-1"><a class="header-anchor" href="#扩展阅读" aria-hidden="true">#</a> 扩展阅读</h2>',13),p={href:"http://www.ruanyifeng.com/blog/2019/04/oauth_design.html",target:"_blank",rel:"noopener noreferrer"},b={href:"http://www.ruanyifeng.com/blog/2019/04/oauth-grant-types.html",target:"_blank",rel:"noopener noreferrer"};function k(f,j){const t=n("ExternalLinkIcon");return r(),h("div",null,[l,e("p",null,[o("阮一峰老师的文章非常清楚地介绍了如何生成"),s,o("这个"),_,e("a",w,[o("http://www.ruanyifeng.com/blog/2018/07/json_web_token-tutorial.html"),c(t)])]),u,e("p",null,[e("a",p,[o("OAuth2简单解释"),c(t)]),e("a",b,[o("OAuth2的四种授权方式"),c(t)])])])}const m=a(i,[["render",k],["__file","JWT（JSON-Web-Token）认证机制.html.vue"]]);export{m as default};
